@model BaseballUa.ViewModels.Custom.EventGamesByDayVM

@{
    ViewData["Title"] = "Schedule";
}

<div class="row">
    @await Html.PartialAsync("_EventDetails", Model.Event)
</div>

<div class="row m-1">
    @await Html.PartialAsync("_EventMenu", Model.Event.EventViewModelId)
</div>

<div class="row m-1">
    @await Html.PartialAsync("_DatesLinks", Model.GamesByDay.Select(gd => gd.GamesDate?.ToString("dd/MM")).ToList())
</div>

@foreach (var game in Model.GamesByDay[ViewBag.ShowIndex].Games)
{
    <div class="card text-white bg-primary mb-3">
        <div class="card-header">[@game.Tour] @game.Name - @game.StartDate - @game.GameStatus - </div>
        <div class="card-body">
            <div class="row">
                <div class="row">
                    <div class="col">
                        Home Team
                    </div>
                    <div class="col">
                        Visitor Team
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        @{
                            if (game.HomeTeam != null)
                            {
                                @game.HomeTeam.Name
                            }
                            else
                            {
                                <label> ??? </label>
                            }
                        }
                    </div>
                    <div class="col">
                        @{
                            if (game.VisitorTeam != null)
                            {
                                @game.VisitorTeam.Name
                            }
                            else
                            {
                                <label> ??? </label>
                            }
                        }
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        @{
                            if (game.HomeTeam != null)
                            {
                                    <img src="~/images/team/logoSmall/@game.HomeTeam.FnameLogoSmall" />
                            }
                        }
                    </div>
                    <div class="col">
                        @{
                            if (game.VisitorTeam != null)
                            {
                                <img src="~/images/team/logoSmall/@game.VisitorTeam.FnameLogoSmall" />
                            }
                        }
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <h1>
                            @if (game.RunsHome != null)
                            {
                                @game.RunsHome
                            } 
                            else
                            {
                                <label> - </label>
                            }
                        </h1>
                    </div>
                    <div class="col">
                        <h1>  :  </h1>
                    </div>
                    <div class="col">
                        @if (game.RunsVisitor != null)
                        {
                            @game.RunsVisitor
                        }
                        else
                        {
                            <label> - </label>
                        }
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        @game.ConditionHome
                    </div>
                    <div class="col">
                        @game.ConditionVisitor
                    </div>
                </div>
                <div class="row">
                    @game.AdditionalInfo
                </div>
            </div>
        </div>
    </div>
}
@*<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(mode => Model.GamesByDay[0].Games[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(mode => Model.GamesByDay[0].Games[0].StartDate)

            </th>
            <th>
                @Html.DisplayNameFor(model => model.AdditionalInfo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RunsVisitor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RunsHome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PlacedAt)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HalfinningsPlayed)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.GameStatus)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PointsVisitor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PointsHome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Tour)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ConditionVisitor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ConditionHome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SchemaGroupId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HomeTeam)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.VisitorTeam)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.GamesByDay[ViewBag.ShowIndex].Games)
        {
        <tr>
            <td>
                @item.Name
            </td>
            <td>
                @item.StartDate
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AdditionalInfo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RunsVisitor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RunsHome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PlacedAt)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HalfinningsPlayed)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GameStatus)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PointsVisitor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PointsHome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tour)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ConditionVisitor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ConditionHome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SchemaGroupId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HomeTeam.Id)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.VisitorTeam.Id)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.GameViewModelId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.GameViewModelId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.GameViewModelId">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>*@
